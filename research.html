<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.43">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Theodore A. Corcovilos">

<title>Corcovilos Lab – Research</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./favicon.ico" rel="icon">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/quarto-contrib/social-share-0.1.0/social-share.css" rel="stylesheet">
<link href="site_libs/quarto-contrib/social-share-0.1.0/all.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

<script type="text/javascript">

(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-114117860-1', 'auto');

ga('send', {
  hitType: 'pageview',
  'anonymizeIp': true,
});
</script>


<link rel="stylesheet" href="styles.css">
<meta property="og:title" content="Corcovilos Lab - Research">
<meta property="og:description" content="A quick summary of current research projects.">
<meta property="og:site_name" content="Ted Corcovilos's Lab webpage">
<meta name="twitter:title" content="Ted Corcovilos’s Lab webpage">
<meta name="twitter:description" content="A quick summary of current research projects.">
<meta name="twitter:creator" content="@TedCorcovilos">
<meta name="twitter:site" content="@TedCorcovilos">
<meta name="twitter:card" content="summary">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Corcovilos Lab</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./research.html" aria-current="page"> 
<span class="menu-text">Research</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./publications.html"> 
<span class="menu-text">Publications</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./teaching.html"> 
<span class="menu-text">Teaching</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./blog.html"> 
<span class="menu-text">Blog Posts</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools tools-wide">
    <a href="https://twitter.com/TedCorcovilos" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-twitter"></i></a>
    <a href="https://github.com/corcoted" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-github"></i></a>
    <a href="https://www.linkedin.com/in/ted-corcovilos" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-linkedin"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#geometric-descriptions-of-geometric-optics" id="toc-geometric-descriptions-of-geometric-optics" class="nav-link active" data-scroll-target="#geometric-descriptions-of-geometric-optics">Geometric descriptions of geometric optics</a></li>
  <li><a href="#mathematical-analysis-of-vibrato-in-music-performance" id="toc-mathematical-analysis-of-vibrato-in-music-performance" class="nav-link" data-scroll-target="#mathematical-analysis-of-vibrato-in-music-performance">Mathematical analysis of vibrato in music performance</a></li>
  <li><a href="#laser-spectroscopy-for-chemistry-applications" id="toc-laser-spectroscopy-for-chemistry-applications" class="nav-link" data-scroll-target="#laser-spectroscopy-for-chemistry-applications">Laser spectroscopy for chemistry applications</a>
  <ul class="collapse">
  <li><a href="#infrared-multi-photon-dissociation-of-gas-phase-ions" id="toc-infrared-multi-photon-dissociation-of-gas-phase-ions" class="nav-link" data-scroll-target="#infrared-multi-photon-dissociation-of-gas-phase-ions">Infrared Multi-Photon Dissociation of gas-phase ions</a></li>
  <li><a href="#optical-detection-of-contaminants-in-water" id="toc-optical-detection-of-contaminants-in-water" class="nav-link" data-scroll-target="#optical-detection-of-contaminants-in-water">Optical detection of contaminants in water</a></li>
  <li><a href="#laser-induced-fluorescence-for-quantitation-of-cross-linking-in-bio-polymers" id="toc-laser-induced-fluorescence-for-quantitation-of-cross-linking-in-bio-polymers" class="nav-link" data-scroll-target="#laser-induced-fluorescence-for-quantitation-of-cross-linking-in-bio-polymers">Laser-Induced Fluorescence for Quantitation of Cross-Linking in Bio-polymers</a></li>
  <li><a href="#automated-sampling-system-for-river-and-lake-water" id="toc-automated-sampling-system-for-river-and-lake-water" class="nav-link" data-scroll-target="#automated-sampling-system-for-river-and-lake-water">Automated sampling system for river and lake water</a></li>
  </ul></li>
  <li><a href="#ultracold-atoms-in-quasicrystal-potentials" id="toc-ultracold-atoms-in-quasicrystal-potentials" class="nav-link" data-scroll-target="#ultracold-atoms-in-quasicrystal-potentials">Ultracold atoms in quasicrystal potentials</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Research</h1>
</div>


<div class="quarto-title-meta-author">
  <div class="quarto-title-meta-heading">Author</div>
  <div class="quarto-title-meta-heading">Affiliation</div>
  
    <div class="quarto-title-meta-contents">
    <p class="author">Theodore A. Corcovilos <a href="mailto:corcovilost@duq.edu" class="quarto-title-author-email"><i class="bi bi-envelope"></i></a> </p>
  </div>
  <div class="quarto-title-meta-contents">
        <p class="affiliation">
            <a href="www.duq.edu">
            Duquesne University
            </a>
          </p>
      </div>
  </div>

<div class="quarto-title-meta">

      
  
    <div>
    <div class="quarto-title-meta-heading">Modified</div>
    <div class="quarto-title-meta-contents">
      <p class="date-modified">August 2, 2023</p>
    </div>
  </div>
    
  </div>
  
<div>
  <div class="abstract">
    <div class="block-title">Abstract</div>
    A quick summary of current research projects.
  </div>
</div>


</header>


<p>Broadly speaking, I work on atomic physics, but also applications of spectroscopy to molecular systems. All of my research is done with the help of undergraduate students. If you’re interested in working on any of these projects, please <a href="./about.html">contact me</a>. <em>No previous experience is required, just curiosity and a willingness to learn new things!</em></p>
<center>
<iframe width="360" height="240" src="https://www.youtube.com/embed/vUE_Bs3hgbg" frameborder="0" allow="encrypted-media; picture-in-picture" allowfullscreen="">
</iframe>
</center>
<p>All of this is possible because of my wonderful <a href="./group.html">student researchers and collaborators</a>.</p>
<p>See the <a href="./publications.html">publications page</a> for links to my papers.</p>
<section id="geometric-descriptions-of-geometric-optics" class="level2">
<h2 class="anchored" data-anchor-id="geometric-descriptions-of-geometric-optics">Geometric descriptions of geometric optics</h2>
<p>This may sound a bit odd, but we don’t typically use a lot of <em>geometry</em> when teaching <em>geometric optics</em>. The usual way that these topics are taught and used is though algebraic methods (e.g.&nbsp;solving Gauss’s imaging equation). By rethinking where these equations come from, we gain insight into the relationships between light rays and images. Mathematical tools like projective geometry (which has mostly been forgotten since the end of the 1800s) and Clifford’s geometric algebra unify these various descriptions of light.</p>
</section>
<section id="mathematical-analysis-of-vibrato-in-music-performance" class="level2">
<h2 class="anchored" data-anchor-id="mathematical-analysis-of-vibrato-in-music-performance">Mathematical analysis of vibrato in music performance</h2>
<p>Because sound and light are both waves, many of the physics tools used to describe light and other electromagnetic radiation like radio waves can also be used to describe sound. I’m working with <a href="https://www.duq.edu/faculty-and-staff/paul-doerksen.php">Paul Doerksen</a> in Duquesne’s Mary Pappert School of Music to build a fuller mathematical description of how musicians produce vibrato when they perform using techniques originating from radio communication.</p>
</section>
<section id="laser-spectroscopy-for-chemistry-applications" class="level2">
<h2 class="anchored" data-anchor-id="laser-spectroscopy-for-chemistry-applications">Laser spectroscopy for chemistry applications</h2>
<section id="infrared-multi-photon-dissociation-of-gas-phase-ions" class="level3">
<h3 class="anchored" data-anchor-id="infrared-multi-photon-dissociation-of-gas-phase-ions">Infrared Multi-Photon Dissociation of gas-phase ions</h3>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./assets/photos/LTQ-CO2.jpg" class="img-fluid figure-img" alt="LTQ with CO2 laser addition"></p>
<figcaption>LTQ mass spectrometer with custom viewport for IRMPD and other optical experiments.</figcaption>
</figure>
</div>
<p>Infrared Multi-Photon Dissociation uses high flux mid-IR lasers to heat molecules to their breaking point. We measure the fragmentation products using mass spectrometry to infer structural information and gas-phase reaction pathways. I do this work in collaboration with <a href="https://www.duq.edu/faculty-and-staff/michael-van-stipdonk.php">Michael Van Stipdonk</a> in the Chemistry and Biochemistry Department at Duquesne, both in Mike’s lab, where I’ve installed a 20-W CO<sub>2</sub> laser onto his linear ion trap (Thermo-Fisher LTQ), and at free electron user facilities such as the Free Electron Laser for Infrared eXperiments (<a href="http://www.ru.nl/felix/">FELIX</a>) at Radboud University in Nijmegen, the Netherlands and Le Centre Laser Infrarouge d’Orsay (<a href="http://old.clio.lcp.u-psud.fr/clio_eng/clio_eng.htm">CLIO</a>) at Université Paris-Sud in Orsay, France.</p>
</section>
<section id="optical-detection-of-contaminants-in-water" class="level3">
<h3 class="anchored" data-anchor-id="optical-detection-of-contaminants-in-water">Optical detection of contaminants in water</h3>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./assets/photos/LG4-photo.png" class="img-fluid figure-img"></p>
<figcaption>Homemade fluorometer for measuring lead in drinking water</figcaption>
</figure>
</div>
<p>In collaboration with <a href="http://science.iupui.edu/people-directory/people/basu-partha.html">Partha Basu</a> at IUPUI and <a href="https://davidmkahler.blogspot.com/">David Kahler</a> in Duquesne’s Center for Environmental Research and Education, we’ve build a small handheld spectrometer/colorimeter that can (1) use a specific turn-on fluorophor for detecting lead in drinking water and (2) perform a suite of color-based water quality measurements. The latest version of the device is sensitive to lead down to about 2 ppb concentrations (by mass), below the EPA action limit of 15 ppb. Another test we are developing is measuring fluoride concentrations and water hardness. Our hope is to make several copies of the device and test homes in the neighborhoods of Pittsburgh near Duquesne and at test sites in South Africa.</p>
<p><a href="./posts/2018-03-08-lead-background.html">See my recent blog post for more detail.</a></p>
<p><em>Previous funding from an InnovationWorks/Department of Defense Technology Transfer Consortia award, and a Duquesne University Charles Henry Leach II grant.</em></p>
</section>
<section id="laser-induced-fluorescence-for-quantitation-of-cross-linking-in-bio-polymers" class="level3">
<h3 class="anchored" data-anchor-id="laser-induced-fluorescence-for-quantitation-of-cross-linking-in-bio-polymers">Laser-Induced Fluorescence for Quantitation of Cross-Linking in Bio-polymers</h3>
<p>This work uses fluorescent tags that bind to cross-links in bio-organic polymers. <a href="https://www.duq.edu/faculty-and-staff/michael-cascio.php">Michael Cascio</a> (Duquesne Chemistry and Biochemistry) and I are building a system to put a microfluidics fluorescence cell in tandem with a mass spectrometer to allow quantitative measurements of cross-linking reaction efficiencies.</p>
</section>
<section id="automated-sampling-system-for-river-and-lake-water" class="level3">
<h3 class="anchored" data-anchor-id="automated-sampling-system-for-river-and-lake-water">Automated sampling system for river and lake water</h3>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./assets/photos/H2O-sampler.jpg" class="img-fluid figure-img"></p>
<figcaption>Automated water sampling system build by David Fries (right) that will be fitted with components from Duquesne.</figcaption>
</figure>
</div>
<p>My group along with <a href="https://www.duq.edu/faculty-and-staff/michael-van-stipdonk.php">Michael Van Stipdonk</a> (Duquesne Chemistry) and David Fries (University of South Florida - St.&nbsp;Petersburg) worked on an automated sampling system to collect water samples in rivers and lakes. The system collects samples for later mass spectrometry analysis and does realtime detection of radionuclides using a homemade gamma spectrometer.</p>
<p><em>Previous funding from a Duquense University Charles Henry Leach II grant.</em></p>
</section>
</section>
<section id="ultracold-atoms-in-quasicrystal-potentials" class="level2">
<h2 class="anchored" data-anchor-id="ultracold-atoms-in-quasicrystal-potentials">Ultracold atoms in quasicrystal potentials</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./assets/figs/qx-atoms-zoom-sm.png" class="img-fluid figure-img"></p>
<figcaption>Simulated quasicrystal optical potential showing animation of a phason mode.</figcaption>
</figure>
</div>
<p>My main research project is studying atoms in two-dimensional optical potentials generated by interfering laser beams. The overall goal is to study the low-energy states of topologically interesting phases, such as quasicrystals (see right).</p>
<p><em>Previous funding through a New Investigator Award from the Charles E. Kaufman Foundation, a member organization of the Pittburgh Foundation (KA2015-79202) and a Duquesne University Faculty Development Fund grant.</em></p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/www\.corcoviloslab\.com");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<script src="https://giscus.app/client.js" data-repo="corcoted/corcoted.github.io" data-repo-id="MDEwOlJlcG9zaXRvcnkxMTg5ODAyOTM=" data-category="General" data-category-id="DIC_kwDOBxd-xc4CYXKb" data-mapping="title" data-reactions-enabled="0" data-emit-metadata="0" data-input-position="top" data-theme="light" data-lang="en" crossorigin="anonymous" async="">
</script>
<input type="hidden" id="giscus-base-theme" value="light">
<input type="hidden" id="giscus-alt-theme" value="dark">
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
<p>Copyright 2023, Ted Corcovilos</p>
</div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>
<div class="page-columns page-rows-contents page-layout-article"><div class="social-share"></div></div>




</body></html>