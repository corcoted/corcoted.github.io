<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2022-07-01">

<title>Corcovilos Lab - Optics in Homogeneous Coordinates, Coordinate Tranformations</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

<script type="text/javascript">

(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-114117860-1', 'auto');

ga('send', {
  hitType: 'pageview',
  'anonymizeIp': true,
});
</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Corcovilos Lab</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../about.html" rel="" target="">
 <span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../research.html" rel="" target="">
 <span class="menu-text">Research Overview</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../teaching.html" rel="" target="">
 <span class="menu-text">Teaching</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../blog.html" rel="" target="">
 <span class="menu-text">Blog Posts</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto tools-wide">
    <a href="https://twitter.com/TedCorcovilos" rel="" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-twitter"></i></a>
    <a href="https://github.com/corcoted" rel="" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-github"></i></a>
    <a href="https://www.linkedin.com/in/ted-corcovilos" rel="" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-linkedin"></i></a>
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#picking-up-from-last-time" id="toc-picking-up-from-last-time" class="nav-link active" data-scroll-target="#picking-up-from-last-time">Picking up from last time…</a></li>
  <li><a href="#why-this-matters" id="toc-why-this-matters" class="nav-link" data-scroll-target="#why-this-matters">Why this matters</a></li>
  <li><a href="#examples" id="toc-examples" class="nav-link" data-scroll-target="#examples">Examples</a>
  <ul class="collapse">
  <li><a href="#right-angle-mirror-pair" id="toc-right-angle-mirror-pair" class="nav-link" data-scroll-target="#right-angle-mirror-pair">Right-angle mirror pair</a></li>
  <li><a href="#right-angle-prism" id="toc-right-angle-prism" class="nav-link" data-scroll-target="#right-angle-prism">Right-angle prism</a></li>
  </ul></li>
  <li><a href="#whats-missing" id="toc-whats-missing" class="nav-link" data-scroll-target="#whats-missing">What’s missing</a>
  <ul class="collapse">
  <li><a href="#aberrations" id="toc-aberrations" class="nav-link" data-scroll-target="#aberrations">Aberrations</a></li>
  <li><a href="#the-third-dimension" id="toc-the-third-dimension" class="nav-link" data-scroll-target="#the-third-dimension">The Third Dimension</a></li>
  </ul></li>
  <li><a href="#next-time" id="toc-next-time" class="nav-link" data-scroll-target="#next-time">Next time…</a></li>
  <li><a href="#appendix-derivations" id="toc-appendix-derivations" class="nav-link" data-scroll-target="#appendix-derivations">Appendix: Derivations</a>
  <ul class="collapse">
  <li><a href="#translation" id="toc-translation" class="nav-link" data-scroll-target="#translation">Translation</a></li>
  <li><a href="#rotation" id="toc-rotation" class="nav-link" data-scroll-target="#rotation">Rotation</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Optics in Homogeneous Coordinates, Coordinate Tranformations</h1>
  <div class="quarto-categories">
    <div class="quarto-category">research</div>
    <div class="quarto-category">optics</div>
    <div class="quarto-category">papers</div>
  </div>
  </div>



<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">July 1, 2022</p>
    </div>
  </div>
  
    <div>
    <div class="quarto-title-meta-heading">Modified</div>
    <div class="quarto-title-meta-contents">
      <p class="date-modified">August 1, 2023</p>
    </div>
  </div>
    
  </div>
  
<div>
  <div class="abstract">
    <div class="abstract-title">Abstract</div>
    Last time we added an extra row and column to our ABCD matrices. What can we do with these?
  </div>
</div>

</header>

<div class="callout callout-style-simple callout-note no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<p>This is the second post discussing my new paper on a new way to look at geometric optics. I deconstruct the familiar ABCD ray-transfer matrices and rebuild them based on geometric considerations. The paper itself is published in <em>American Journal of Physics</em><a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>. These blog posts will focus on the motivation and how to use the results.</p>
</div>
</div>
</div>
<p><a href="../posts/2022-05-20-HomogeneousOptics-1.html">Part 1 is here.</a></p>
<section id="picking-up-from-last-time" class="level2">
<h2 class="anchored" data-anchor-id="picking-up-from-last-time">Picking up from last time…</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../assets/figs/2022-optics/line.svg" class="img-fluid figure-img" data-alt-text="Graph of a line"></p>
<figcaption class="figure-caption">The equation of an oriented line. In this example, <em>a</em> and <em>b</em> &gt; 0 and <em>c</em>&lt;0.</figcaption>
</figure>
</div>
<p>In the <a href="../posts/2022-05-20-HomogeneousOptics-1.html">previous post</a> I defined an oriented line by considering the equation of a line in 2D: $ ax+by+c = 0 $, which we can abbreviate as the vector of coefficients <span class="math inline">\((c,a,b)\)</span>. In this post, we want to perform some geometric operations on this line. Namely, we want to move (translate) it, rotate it about the coordinate origin, and switch its orientation (from left-to-right to right-to-left). Once we understand how to manipulate the line, we’ll perform these same transformations on our ABCD matrices.</p>
<p>For the sake of brevity, I’ll give the results here and put the <a href="#appendix-derivations">derivations at the bottom</a>.</p>
<p>To translate a ray by a displacement vector (<em>u</em>, <em>v</em>) we multiply the ray vector from the left by the matrix <span class="math display">\[
T(u,v) = \begin{pmatrix} 1 &amp; -u &amp; -v \\ 0 &amp; 1 &amp; 0 \\ 0 &amp; 0 &amp; 1 \end{pmatrix}.
\]</span> In other words, the new ray <em>r</em>’ = <em>T r</em>.</p>
<p>Similarly, rotations of the rays are represented by the matrix <span class="math display">\[R(\theta) = \begin{pmatrix} 1 &amp; 0 &amp; 0 \\ 0 &amp; \cos \theta &amp; -\sin \theta \\ 0 &amp; \sin \theta &amp; \cos \theta \end{pmatrix},\]</span> giving a new ray <em>r</em>’ = <em>R r</em>.</p>
<p>For the ray transfer matrices, both the row space and column space of the matrix must be transformed. If we rotate and then translate, the new matrix is <span class="math inline">\(M' = TRMR^{-1}T^{-1}\)</span>.</p>
<p>One way to understand why we need two copies of the transformation matrices is this – our ABCD matrices for optical elements assume the element is located at the origin. If we want to place that surface anywhere else, we have to move our coordinates such that the desired optical element location is at the origin, install our element, then restore the original coordinates.</p>
</section>
<section id="why-this-matters" class="level2">
<h2 class="anchored" data-anchor-id="why-this-matters">Why this matters</h2>
<p>Being able to translate and rotate our lenses and mirrors lets us model optical systems <em>just as they are built on our optical table</em>. We don’t have to unfold our beam paths to model them. And we can see what happens if a lens is decentered or tilted (e.g.&nbsp;when your professor bumps a random mirror and you have to realign everything, not that I have any experience with that…).</p>
<p>Also, now we have a way to mathematically describe not just optics, but also opto-mechanics. We can model beam-steering elements like galvos, motorized mirrors, or acousto-optics. We can do tolerancing of layouts or vibration analysis with simple matrix multiplication. To an experimentalist like myself with only a handful of math tools in my pocket and insufficient patience to code all of this up in Zemax, <em>this is exciting!</em></p>
<p>Now, the skeptics will say this is not new physics. We learning nothing here that we haven’t seen before. This is true, but it misses the point. My motivation is pragmatic: do more stuff with simple tools (well, as long as you think multiplying 3×3 matrices isn’t too large of a price).</p>
</section>
<section id="examples" class="level2">
<h2 class="anchored" data-anchor-id="examples">Examples</h2>
<section id="right-angle-mirror-pair" class="level3">
<h3 class="anchored" data-anchor-id="right-angle-mirror-pair">Right-angle mirror pair</h3>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../assets/figs/2022-optics/retro.svg" class="img-fluid figure-img" data-alt-text="Retroreflector schematic"></p>
<figcaption class="figure-caption">Example of retroreflector made from two perpendicular mirrors.</figcaption>
</figure>
</div>
<p>I have several examples in the paper<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a>, but my favorite is a common lab optic: a right-angle retroreflector. The setup is simple: we have two flat mirrors that intersect at right angles. Any incoming ray will be retroreflected opposite its original direction, offset by some distance.</p>
<p>The RTM for the upper mirror (<span class="math inline">\(M_1\)</span>) is generated by a <span class="math inline">\(45^{\circ}\)</span> rotation of a plane mirror situated at the origin:</p>
<p><span class="math display">\[
\begin{aligned}
M_1 &amp;= R_{45^{\circ}}M_\text{plane mirror}R_{45^{\circ}}^{-1}, \\
&amp;=
\begin{pmatrix} 1 &amp; 0 &amp; 0 \\ 0 &amp; 1/\sqrt{2} &amp; -1/\sqrt{2} \\ 0 &amp; 1/\sqrt{2} &amp; 1/\sqrt{2} \end{pmatrix}
\begin{pmatrix} -1 &amp; 0 &amp; 0 \\ 0 &amp; 1 &amp; 0 \\ 0 &amp; 0 &amp; -1 \end{pmatrix}
\begin{pmatrix} 1 &amp; 0 &amp; 0 \\ 0 &amp; 1/\sqrt{2} &amp; 1/\sqrt{2} \\ 0 &amp; -1/\sqrt{2} &amp; 1/\sqrt{2} \end{pmatrix} \\
&amp;= \begin{pmatrix} -1 &amp; 0 &amp; 0 \\ 0 &amp; 0 &amp; 1 \\ 0 &amp; 1 &amp; 0 \end{pmatrix}.
\end{aligned}
\]</span></p>
<p>Similarly, the second mirror (<span class="math inline">\(M_2\)</span>) has the RTM <span class="math display">\[
M_2 = R_{-45^{\circ}}M_\text{plane mirror}R_{-45^{\circ}}^{-1} = \begin{pmatrix} -1 &amp; 0 &amp; 0 \\ 0 &amp; 0 &amp; -1 \\ 0 &amp; -1 &amp; 0 \end{pmatrix}.    
\]</span> We choose an incoming ray <span class="math inline">\({r}_0 = (-h,-m,1)^T\)</span> with <span class="math inline">\(h&gt;0\)</span> such that it will strike mirror <span class="math inline">\(M_1\)</span> first, yielding the reflected ray <span class="math display">\[
{r}_1 = M_1 {r}_0 = (h,1,-m)^T.    
\]</span></p>
<p>This ray follows the line <span class="math inline">\(h +x-my =0\)</span>, propagating from right to left (<span class="math inline">\(b &lt; 0\)</span>). After the second reflection in <span class="math inline">\(M_2\)</span> the final ray is <span class="math display">\[
{r}_2 = M_2 {r}_1 = (-h,m,-1)^T,    
\]</span> which is antiparallel to the incoming ray, as expected, with a <span class="math inline">\(y\)</span> intercept of <span class="math inline">\(-h\)</span> and propagating right to left (<span class="math inline">\(b &lt; 0\)</span>).</p>
<p>That’s a piece-wise description, but we can multiply the two mirror matrices to get the system matrix for the retroreflector:</p>
<p><span class="math display">\[
M_\text{ra} = M_2 M_1 =
\begin{pmatrix} 1 &amp; 0 &amp; 0 \\ 0 &amp; -1 &amp; 0 \\ 0 &amp; 0 &amp; -1 \end{pmatrix}.
\]</span> Multiplying this matrix by the original ray gives <span class="math inline">\(r_2\)</span> above in one step.</p>
</section>
<section id="right-angle-prism" class="level3">
<h3 class="anchored" data-anchor-id="right-angle-prism">Right-angle prism</h3>
<p>We can also upgrade our retroreflector to a right-angle prism retroreflector by inserting refracting surfaces before and after the mirror pair. We’ll assume the prism is made of glass with an index of refraction of <em>n</em>. In the mirror setup above, the intersection of the mirrors was located at the coordinate origin. We’ll place the hypotenuese of the prism a distance <em>d</em> to the left of the origin.</p>
<p>The matrix for the entrance surface is a refracting surface from index of refraction 1 to index of refraction <em>n</em>, translated to the left by <em>d</em>: <span class="math display">\[
\begin{aligned}
S_1 &amp;= T(-d,0)\,M_\text{ref}(1,n)\,T(d,0) \\
    &amp;=
    \begin{pmatrix} 1 &amp; d &amp; 0 \\ 0 &amp; 1 &amp; 0 \\ 0 &amp; 0 &amp; 1 \end{pmatrix}
    \begin{pmatrix} 1 &amp; 0 &amp; 0 \\ 0 &amp; 1/n &amp; 0 \\ 0 &amp; 0 &amp; 1 \end{pmatrix}
    \begin{pmatrix} 1 &amp; -d &amp; 0 \\ 0 &amp; 1 &amp; 0 \\ 0 &amp; 0 &amp; 1 \end{pmatrix}
    \\
    &amp;=
    \begin{pmatrix} 1 &amp; (d-nd)/n &amp; 0 \\ 0 &amp; 1/n &amp; 0 \\ 0 &amp; 0 &amp; 1 \end{pmatrix}
\end{aligned}
\]</span> The matrix for the exit surface is constructed similarly: <span class="math display">\[
\begin{aligned}
S_2 &amp;= T(-d,0)\,M_\text{ref}(n,1)\,T(d,0) \\
    &amp;=
    \begin{pmatrix} 1 &amp; nd-n &amp; 0 \\ 0 &amp; n &amp; 0 \\ 0 &amp; 0 &amp; 1 \end{pmatrix}
\end{aligned}
\]</span> Now, we just combine these two surfaces in the correct order with the right-angle mirrors from above to get our prism matrix: <span class="math display">\[
\begin{aligned}
M_\text{prism} &amp;= S_2 M_\text{ra} S_1 \\
&amp;= \begin{pmatrix} 1 &amp; 2d(n-1)/n &amp; 0 \\ 0 &amp; -1 &amp; 0 \\ 0 &amp; 0 &amp; -1 \end{pmatrix}
\end{aligned}
\]</span> What does this matrix tell us? We still get a retroreflector, as expected, but the outgoing ray is slightly displaced relative to the mirror-pair case. For our now canonical incoming ray <span class="math inline">\(r = (h,m,-1)^T\)</span>, we get an outgoing ray <span class="math display">\[
r' = M_\text{prism} r =
\begin{pmatrix} 1 &amp; 2d(n-1)/n &amp; 0 \\ 0 &amp; -1 &amp; 0 \\ 0 &amp; 0 &amp; -1 \end{pmatrix}
\begin{pmatrix} h \\ m \\ -1 \end{pmatrix}
= \begin{pmatrix} -h + \frac{2md(n-1)}{n} \\ m \\ -1 \end{pmatrix},
\]</span> showing a displacement in the height of <span class="math inline">\({2md(n-1)}/{n}\)</span> relative to the mirror pair (i.e., setting <span class="math inline">\(n=1\)</span>).</p>
</section>
</section>
<section id="whats-missing" class="level2">
<h2 class="anchored" data-anchor-id="whats-missing">What’s missing</h2>
<section id="aberrations" class="level3">
<h3 class="anchored" data-anchor-id="aberrations">Aberrations</h3>
<p>These new tools let us analytically lay out our optical setup, but we are still only working in the paraxial limit. That means our angles and beam displacements can’t get too large else our errors will accumulate, particularly for refractive elements and spherical surfaces. (Plane mirrors are perfect!) Specifically, our method says nothing about aberrations because those are, by definition, nonlinear in the ray height and slope, and we are using a strictly linear formulation. Can we extend these ideas to low-order aberrations? I’m looking into a few ideas others have published recently<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a>, so stay tuned. Computer tricks like automatic differentiation might yield a simple, compact way to look beyond the paraxial limit without doing full-bore ray tracing.</p>
</section>
<section id="the-third-dimension" class="level3">
<h3 class="anchored" data-anchor-id="the-third-dimension">The Third Dimension</h3>
<p>Extending the ray matrices to three dimensions is fairly straight forward, but a bit cumbersome as we need 6×6 matrices. Lin has one method that keeps things looking similar to the 2-D case<a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a>, but I’m looking into the prefered representation of the computer graphics folks: <a href="https://en.wikipedia.org/wiki/Pl%C3%BCcker_coordinates">Plücker coordinates</a>, which are a true homogeneous representation of lines in 3D, and thus preserve geometric information in a covariant way.<a href="#fn5" class="footnote-ref" id="fnref5" role="doc-noteref"><sup>5</sup></a> This will be important to investigating points and planes (see next post!).</p>
</section>
</section>
<section id="next-time" class="level2">
<h2 class="anchored" data-anchor-id="next-time">Next time…</h2>
<p>In the next post I’ll show how use a little algebra trick to apply the ray transfer matrices to imaging problems by directly mapping points from the object space of the optical system to the image space. This is nice because we no longer have to use intersecting rays to find image locations or magnifications. The key is using a homogeneous representation of our points.</p>
<p>And in the post after that, I’ll look beyond the paper and shift to the other major application of the ABCD matrices: Gaussian laser beams.</p>
</section>
<section id="appendix-derivations" class="level2">
<h2 class="anchored" data-anchor-id="appendix-derivations">Appendix: Derivations</h2>
<p>Here I walk through how the translation and rotation matrices are constructed. The rotation matrices you may have seen before, although probably not in homogeneous coordinates. The translation matrices are unique to the homogeneous representation. In traditional 2D matrix algebra, translation is not representable by matrix multiplication. Instead, you have to add vectors directly. Being able to put all of the Euclidean transformations into the same form is one of the major benefits of using homogeneous coordinates.</p>
<section id="translation" class="level3">
<h3 class="anchored" data-anchor-id="translation">Translation</h3>
<p>Our first task is to shift our line by a constant vector (<em>u</em>,<em>v</em>). Equivalently, we can move our coordinate axis by the opposite translation. In other words, we can do \( x \rightarrow x-u, y \rightarrow y-v \). Substituting this change into the line equation, we have \[ a(x-u) + b(y-v) + c = 0, \] \[ ax + by + (-au -bv + c) = 0. \] The coefficents are transforming line \( a \rightarrow a, b \rightarrow b, c \rightarrow c-au-bv \). Working backwards, we can represent this transformation of the coefficients as a matrix equation: \[ \begin{pmatrix}c \\ a \\ b \end{pmatrix} \rightarrow \begin{pmatrix} 1 &amp; -u &amp; -v \\ 0 &amp; 1 &amp; 0 \\ 0 &amp; 0 &amp; 1 \end{pmatrix} \begin{pmatrix}c \\ a \\ b \end{pmatrix}. \] We identify the matrix here as the <em>translation operator</em> and we’ll give it the name \[ T(u,v) = \begin{pmatrix} 1 &amp; -u &amp; -v \\ 0 &amp; 1 &amp; 0 \\ 0 &amp; 0 &amp; 1 \end{pmatrix}. \] Note that only the <em>c</em> coefficient changes. If our line coefficients happend to be normalized such that \( a^2 + b^2 = 1 \), then <em>c</em> is the distance of the line from the origin. What does this mean? Because only <em>c</em> is changing, any translation of a line can be interpreted as motion towards or away from the origin. Any motion perpendicular to that would simply shift the line along itself, resulting in no change to the line.</p>
</section>
<section id="rotation" class="level3">
<h3 class="anchored" data-anchor-id="rotation">Rotation</h3>
<p>Now we’d like to rotate the line. Rotation of the line by an angle <em>θ</em> about the coordinate origin is equivalent to rotating the axes by the opposite angle <em>-θ</em>. This looks like the usual rotation operation in the <em>xy</em> plane: \[ x \rightarrow x (-\theta) + y (-\theta) = x (\theta) - y (\theta), \] \[ y \rightarrow x (-)(-\theta) + y (-\theta) = x (\theta) + y (\theta),\] where I’ve used the odd/even nature of sin/cos to simplify the signs.</p>
<p>Substitute these changes into our line equation: \[ a(x \cos\theta - y \sin\theta) + b(x \sin\theta + y \cos\theta) + c = 0, \] \[ (a \cos \theta + b \sin\theta)x + (-a \sin\theta + b \cos\theta)y + c = 0. \]</p>


</section>
</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>T. Corcovilos. Beyond the ABCDs: A projective geometry treatment of paraxial ray tracing using homogeneous coordinates. <em>American Journal of Physics</em> 91(6):449-457 (2023). doi:<a href="http://doi.org/10.1119/5.0083069">10.1119/5.0083069</a> Preprint at arXiv:<a href="http://arxiv.org/abs/2205.09746">2205.09746</a><a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>T. Corcovilos. Beyond the ABCDs: A projective geometry treatment of paraxial ray tracing using homogeneous coordinates. <em>American Journal of Physics</em> 91(6):449-457 (2023). doi:<a href="http://doi.org/10.1119/5.0083069">10.1119/5.0083069</a> Preprint at arXiv:<a href="http://arxiv.org/abs/2205.09746">2205.09746</a><a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p>Lin, P.-D.; Hsueh, C.-C. 6×6 Matrix Formalism of Optical Elements for Modeling and Analyzing 3D Optical Systems. <i>Appl. Phys. B</i> <b>2009</b>, <i>97</i> (1), 135–143. <a href="https://doi.org/10.1007/s00340-009-3616-7">https://doi.org/10.1007/s00340-009-3616-7</a>. Lin, P. D.; Johnson, R. B. <i>Opt. Express</i> <b>2019</b>, <i>27</i> (14), 19712. <a href="http://doi.org/10.1364/OE.27.019712">doi:10.1364/OE.27.019712</a>.<a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn4"><p>Lin, P. D. <i>New Computation Methods for Geometrical Optics</i>; Springer Series in Optical Sciences; Springer Singapore: Singapore, 2014; Vol. 178. <a href="https://doi.org/10.1007/978-981-4451-79-6">ISBN: 978-981-4451-79-6</a>.<a href="#fnref4" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn5"><p>Wolf, K. B. Optical Models and Symmetry. Chapter 4 of <i>Progress in Optics</i>; Elsevier, 2017; Vol. 62, pp 225–291. <a href="https://doi.org/10.1016/bs.po.2016.12.002">https://doi.org/10.1016/bs.po.2016.12.002</a>.<a href="#fnref5" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">Copyright 2023, Ted Corcovilos</div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>



</body></html>