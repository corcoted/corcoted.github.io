{
  "hash": "c415415228d277dedb2ef0e7b4c8aaf4",
  "result": {
    "engine": "jupyter",
    "markdown": "---\nlayout: post\ntitle: Optics example\ncategories:\n  - optics\n  - teaching\n  - example problems\ndate: 2023-08-10\njupyter: website\nexecute:\n  echo: false\n  freeze: auto\nabstract: >-\n  I use the expanded 3&times;3 matrix method to analyze an example optical system.\n\ncsl: \"../_data/review-of-scientific-instruments.csl\"\nreferences:\n- id: corcovilos2023\n  archive_location: '[arXiv:2205.09746](https://arxiv.org/abs/2205.09746)'\n  author:\n    - family: Corcovilos\n      given: Theodore A.\n  citation-key: corcovilos2023\n  container-title: American Journal of Physics\n  DOI: 10.1119/5.0083069\n  issue: 6\n  issued:\n    - year: 2023\n      month: 6\n      day: 1\n  page: 449-457\n  source: arXiv.org\n  title: >-\n    Beyond the ABCDs: A better matrix method for geometric optics by using\n    homogeneous coordinates\n  title-short: Beyond the ABCDs\n  type: article\n  volume: '91'\n- id: hecht\n  author:\n    - family: Hecht\n      given: Eugene\n  call-number: QC355.3.H43 2017\n  citation-key: hecht\n  edition: 5\n  event-place: Boston\n  ISBN: 978-0-13-397722-6\n  issued:\n    - year: 2017\n  language: en\n  number-of-pages: '714'\n  publisher: Pearson\n  publisher-place: Boston\n  source: Library of Congress ISBN\n  title: Optics\n  type: book\n- id: pedrotti\n  author:\n    - family: Pedrotti\n      given: Frank L.\n    - family: Pedrotti\n      given: Leno Matthew\n    - family: Pedrotti\n      given: Leno S.\n  edition: 3\n  event-place: Cambridge\n  ISBN: 978-1-108-42826-2\n  issued:\n    - year: 2018\n  publisher: Cambridge\n  publisher-place: Cambridge\n  title: Introduction to optics\n  type: book\n---\n\n\n\n\nIn the [last](/posts/2022-05-20-HomogeneousOptics-1.qmd) [three](/posts/2022-05-20-HomogeneousOptics-1.qmd) [posts](/posts/2022-05-20-HomogeneousOptics-3.qmd) I laid out the main ideas from my recent paper[@corcovilos2023].\nHere I want to demonstrate using these on a simple example optical system.\n\nThe example we'll work through is a basic compound microscope.  Here are the key elements:\n\n- The objective is a converging lens of focal length *f~O~*&nbsp;=&nbsp;1.600&nbsp;mm with a clear aperture diameter of *d~O~*&nbsp;=4.000&nbsp;mm.  The aperture stop of the system is the objective lens.\n- The eyepiece is a converging lens of focal length *f~E~*&nbsp;=25.00&nbsp;mm and a clear aperture of *d~E~*&nbsp;=&nbsp;18.00&nbsp;mm.\n- The distance between the objective and the eyepiece is 189.2&nbsp;mm.\n- There is an internal aperature located 162.0&nbsp;mm behind the objective lens.  Its diameter is *d~S~*&nbsp;=10.00&nbsp;mm.  This functions as the field stop.\n\n\n\n\n\nWe'll assume that the user of the microscope has normal vision and that the final image will be located at the eye's near point distance of 250.0&nbsp;mm.\nWe'll also assume that the eye is located at the exit pupil of the instrument (the usual design for microscopes and telescopes).\n\nAs a reminder, this is all in the realm of paraxial geometric optics, so we can't address aberrations or wavefront errors, but I can calculate other useful properties.\nThe things we want to calculate are\n\na. The location of the exit pupil (and hence the eye).\nb. The image and object locations.\nc. The magnification.\nd. The numerical aperture and Rayleigh diffraction limit of the microscope.\ne. The locations of the entrance and exit windows.\nf. The field of view.\ng. The depth of field.\n\n## Traditional solution\nHere is how the problem is typically done using the Gaussian imaging equation and some geometry, like you might find in Hecht[@hecht] or Pedrotti[@pedrotti].\n\n### Exit pupil\nThe exit pupil is the image of the aperture on the image side of the system.\nIn our example, this is the image of the objective's aperture formed by the eyepiece.\nUsing the Gaussian lens equation we can solve for the distance from the eyepiece to the exit pupil (*t~EXP~*):\n\n$$\\frac{1}{t_{OE}} + \\frac{1}{t_{EXP}} = \\frac{1}{f_{E}}$$\n$$t_{EXP} = - \\frac{f_{E} t_{OE}}{f_{E} - t_{OE}}$$\n$$t_{EXP}=28.81$$\n\n\nThe diameter of the exit pupil (*d~XP~*) is found by calculating the magnification of the image of the objective aperture.\n\n$$d_{XP} = - \\frac{d_{O} t_{EXP}}{t_{OE}}$$\n$$d_{XP}=0.6090$$\n\n\nwhere in the last line I discarded the minus sign because we're just interested in the size.\n\n::: {.callout-warning}\nThe value of *d~XP~* looks small to me.  Should check against real microscopes.  I'm already using an NA of about 0.8, so I don't think increasing *d~O~* makes sense.\n:::\n\n### Image and object locations\nNow that we know the location of the eye, we go backwards to locate the image.\n\n$$- NP + t_{EXP}=-221.2$$\n\n\nFinish up by calculating magnification, NA, Rayleigh limit.\n\nThen find the NW to get the field of view.\n\nFinally, depth of field.  (eye has nominally 1 arc minute of angular resolution.)\n\n## Matrix method\n\nTo start we need the matrix for each lens.  We need to set our coordinate system, so we'll place the origin at the center of the objective lens.\n\nThe matrix for the objective lens is\n\n::: {#c7690aee .cell execution_count=6}\n\n::: {.cell-output .cell-output-display .cell-output-markdown}\n$\\displaystyle \\left[\\begin{matrix}1 & 0 & 0\\\\-0.625 & 1 & 0\\\\0 & 0 & 1\\end{matrix}\\right]$\n:::\n:::\n\n\nWe get the matrix for the eyepiece by taking a lens matrix and translating it into position\n\n::: {#0bd458eb .cell execution_count=7}\n\n::: {.cell-output .cell-output-display .cell-output-markdown}\n$\\displaystyle \\left[\\begin{matrix}1 + \\frac{t_{OE}}{f_{E}} & t_{OE} \\left(1 + \\frac{t_{OE}}{f_{E}}\\right) - t_{OE} & 0\\\\- \\frac{1}{f_{E}} & 1 - \\frac{t_{OE}}{f_{E}} & 0\\\\0 & 0 & 1\\end{matrix}\\right]$\n:::\n\n::: {.cell-output .cell-output-display .cell-output-markdown}\n$\\displaystyle \\left[\\begin{matrix}8.568 & 1431.8656 & 0\\\\-0.04 & -6.568 & 0\\\\0 & 0 & 1\\end{matrix}\\right]$\n:::\n:::\n\n\nThe location of the exit pupil is the image of the aperture stop (in this case the same as the objective lens).  First we need the PTM version of the matrix:\n\n::: {#08e43b35 .cell execution_count=8}\n\n::: {.cell-output .cell-output-display .cell-output-markdown}\n$\\displaystyle \\left[\\begin{matrix}1 - \\frac{t_{OE}}{f_{E}} & \\frac{1}{f_{E}} & 0\\\\- \\frac{t_{OE}^{2}}{f_{E}} & 1 + \\frac{t_{OE}}{f_{E}} & 0\\\\0 & 0 & 1\\end{matrix}\\right]$\n:::\n\n::: {.cell-output .cell-output-display .cell-output-markdown}\n$\\displaystyle \\left[\\begin{matrix}-6.568 & 0.04 & 0\\\\-1431.8656 & 8.568 & 0\\\\0 & 0 & 1\\end{matrix}\\right]$\n:::\n:::\n\n\nWe image the edge of the aperture stop (1 radius in the y direction) through the back half of the optical system (in our case, just the eyepiece) to find the edge of the exit pupil.\n\n\n\nWe want the (virtual) image generated by the microscope to be 250 mm to the left of the exit pupil, so that it appears at the eye's near point.  We anticipate this will coincide with the image of the field stop (if the engineer was following common practice to minimize vignetting).\n\nThe image plane is also a geometric line in our 2D case, so we can use the ray transfer matrices to see where the intermediate image plane and object plane are.  The image plane is described by the equation\n\n$$ x = x_{XP} - NP \\quad \\rightarrow \\quad 1 x + 0 y + (NP-x_{XP}) = 0 $$\n\nwhere *x~XP~* is the *x*-position of the exit pupil and *NP* is the eye's near point distance.\n\n::: {#4711d8a6 .cell execution_count=10}\n\n::: {.cell-output .cell-output-display .cell-output-markdown execution_count=10}\n$\\displaystyle -31.9936662606578$\n:::\n:::\n\n\nAs a line vector in our notation, the image plane is the vector\n\n$$ p_I = (NP-x_{XP},1,0)^T $$\n\n::: {#44f1135a .cell execution_count=11}\n\n::: {.cell-output .cell-output-display .cell-output-markdown}\n$\\displaystyle \\left[\\begin{matrix}31.9936662606578\\\\1\\\\0\\end{matrix}\\right]$\n:::\n:::\n\n\nTo find the intermediate image plane, we need to project the image plane *backwards* through the eyepiece.  To go backwards, we need the matrix inverse:\n\n::: {#2e42cb1e .cell execution_count=12}\n\n::: {.cell-output .cell-output-display .cell-output-markdown}\n$\\displaystyle \\left[\\begin{matrix}-166.738651824366\\\\1.0\\\\0\\end{matrix}\\right]$\n:::\n:::\n\n\nLooks right.\n\nThe object plane is the intermediate image plan back propagated through the objective, just like the last step\n\n::: {#50d09212 .cell execution_count=13}\n\n::: {.cell-output .cell-output-display .cell-output-markdown}\n$\\displaystyle \\left[\\begin{matrix}1.61550212486125\\\\1.0\\\\0\\end{matrix}\\right]$\n:::\n:::\n\n\nSo, the (in focus) object plane is 1.6155 mm to the left of the objective.  In other words, just outside the objective's front focal plane.\n\n:::{.callout-note}\nIf we had an infinite-conjugate microscope, the object would be exactly at the front focal plane of the objective and the intermediate image would be formed by the tube lens.\n:::\n\n",
    "supporting": [
      "2023-08-10-HomogeneousOptics-4_files"
    ],
    "filters": [],
    "includes": {}
  }
}